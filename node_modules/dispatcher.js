const Bacon = require('baconjs');

let busCache = {}

const bus = function bus(name) {
  return busCache[name] = busCache[name] || new Bacon.Bus()
}

module.exports = {
  stream: function(name) {
    return bus(name)
  },
  push: function(name, value) {
    bus(name).push(value)
  },
  plug: function(name, value) {
    bus(name).plug(value)
  }
}
